# Программа наполнения базы данных по музыке

## Модули
### Insert-module
В данной модуле используется 1 класс, которые создается с входными параметрами:
* Логин и пароль с типом list
```python
[login, password]
```
* Название базы, к которой необходимо подключиться
  
> Подключение осуществляется только к локальной базе с портом 5432

Класс состоит из нескольких функций:
1. Открытие и чтение данных из CSV-файла
1. Проверка на наличие жанра в таблице:
    1. Если жанр есть - вернем его id
    1. Если жанра нет - создадим и вернем его id
    
1. Проверка на наличие сборника (аналогично жанру)
1. Проверка на наличие альбома (аналогично жанру)
1. Проверка на наличие артиста (аналогично жанру)
1. Создание связи many-to-many артиста и жанра
1. Создание связи many-to-many артиста и альбома
1. Создание записи с информацией по треку

### dml
Модуль со скриптами для запроса к базе.

### dml_advanced
Модуль со скриптами для расширенного получения данных.

## С чего начать
1. Создайте файл settings.ini с логином, паролем и название базы, к которой необходимо подключиться в формате
```python
[login]
login='Ваш логин (без кавычек)'

[password]
password='Ваш пароль (без кавычек)'


[DB]
db_name='Название базы (без кавычек)'
```
2. Положите файл с информацией по трекам в корень папки. Файл должен иметь следующий вид:
```txt
track_name | duration (sec) | Album_name | Album_year | Collection_name | Collection_year | Genre | Artist
```
3. Запустите программу

> В репозитории можно посмотреть пример файла music.csv